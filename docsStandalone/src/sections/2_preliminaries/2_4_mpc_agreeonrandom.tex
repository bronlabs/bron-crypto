% v. Agree on Random  [Hoang]
% â–¡ Explain the use case for session IDs (mention Lindell no need for random)
% Find something to cite

% ---------------------------------------------------------------------------- %
\subsubsection{Session Id and Distributed Randomness Sampling}\label{sec:mpc_agreeonrandom}
% ---------------------------------------------------------------------------- %

To achieve Universally-Composability (UC) our protocols are framed in the Common Reference String (CRS)~\cite{canetti2002crs} model, crucially relying on the existence of a common value from an arbitrary distribution that is agreed-upon and known by all the participants. This value acts as a unique session identifier for each protocol execution, effectively separating multiple executions of the same protocol. 



While this value need not be random in all CRS settings, we employ a protocol named \fn{AgreeOnRandom} to sample a uniformly random value that will serve as CRS. This protocol realizes the $\idealfn{CRS}$ ideal functionality as defined in \cite{canetti2002crs}. We instantiate this protocol following stablished literature in the domain of CRS-based ZK-SNARKs~\cite{ben2015crsSampling,bowe2019crsPublicParam,miers2019crsRandomBeacon}, where a pre-commitment phase is employed to ensure that the final random value is not biased in presence of at least one honest party. The details of this protocol are presented in Protocol \ref{alg:agreeonrandom}.

\input{src/algorithms/primitives/agreeonrandom.tex}

This protocol can be framed as an instance of Distributed Randomness Beacons \cite{choi2023sok} where the beacon is managed by the participants themselves. We note that, in the context of an honest majority (e.g., during DKG in a $2$-out-of-$3$ setting) this protocol can instead be instantiated with a Publicly Verifiable Secret Sharing (PVSS) scheme to ensure that the final random value is fully unbiased. However, we opt for a simpler instantiation that does not require a PVSS scheme, as the protocol is used to sample a CRS and thus does not rely on the randomness being perfectly unbiased (it just requires the CRS to be unique with high enough probability).

As a side note, we remark that there is a formal separation between the low-round distributed randomness sampling protocols described above and the high-round coin flipping protocols widely studied in the literature \cite{blum1983coin,cleve1986limits,beimel2015protocols,wu2022complete}. The coin flipping protocols suffer from a fundamental impossibility result when trying to achieve fairness (all parties receiving the unbiased coin): a rushing adversary can wait until he has received all the messages in the last round, simulate the coin result and decide wether to abort if the result is not desired. The main difference comes from the adversary's ability to run as many protocols as he wants in parallel, whereas we can run our distributed randomness sampling protocol much more sporadically and deal with the aborts in the last round in a more controlled manner: we can limit the number of aborts to a low enough number before freezing and investigating the issue. That being said, we leave these control mechanisms out of the scope of the primitives, much like the total aborts in some of our signing protocols.
